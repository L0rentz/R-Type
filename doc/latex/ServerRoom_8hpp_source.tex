\hypertarget{ServerRoom_8hpp_source}{}\doxysection{Server\+Room.\+hpp}
\label{ServerRoom_8hpp_source}\index{src/server/engine/ServerRoom.hpp@{src/server/engine/ServerRoom.hpp}}
\mbox{\hyperlink{ServerRoom_8hpp}{Go to the documentation of this file.}}
\begin{DoxyCode}{0}
\DoxyCodeLine{1 \textcolor{comment}{/*}}
\DoxyCodeLine{2 \textcolor{comment}{** EPITECH PROJECT, 2021}}
\DoxyCodeLine{3 \textcolor{comment}{** B-\/CPP-\/501-\/NCE-\/5-\/1-\/rtype-\/antonin.fille}}
\DoxyCodeLine{4 \textcolor{comment}{** File description:}}
\DoxyCodeLine{5 \textcolor{comment}{** ServerRoom}}
\DoxyCodeLine{6 \textcolor{comment}{*/}}
\DoxyCodeLine{7 }
\DoxyCodeLine{8 \textcolor{preprocessor}{\#ifndef SERVERROOM\_HPP\_}}
\DoxyCodeLine{9 \textcolor{preprocessor}{\#define SERVERROOM\_HPP\_}}
\DoxyCodeLine{10 }
\DoxyCodeLine{11 \textcolor{preprocessor}{\#include "{}\mbox{\hyperlink{UserConnection_8hpp}{UserConnection.hpp}}"{}}}
\DoxyCodeLine{12 \textcolor{preprocessor}{\#include "{}\mbox{\hyperlink{ServerPlayer_8hpp}{ServerPlayer.hpp}}"{}}}
\DoxyCodeLine{13 \textcolor{preprocessor}{\#include "{}\mbox{\hyperlink{EntityLoad_8hpp}{EntityLoad.hpp}}"{}}}
\DoxyCodeLine{14 \textcolor{preprocessor}{\#include "{}\mbox{\hyperlink{ServerMobSpawnConf_8hpp}{ServerMobSpawnConf.hpp}}"{}}}
\DoxyCodeLine{15 \textcolor{preprocessor}{\#include <utility>}}
\DoxyCodeLine{16 \textcolor{preprocessor}{\#include <thread>}}
\DoxyCodeLine{17 \textcolor{preprocessor}{\#include <chrono>}}
\DoxyCodeLine{18 \textcolor{preprocessor}{\#include "{}fstream"{}}}
\DoxyCodeLine{19 }
\DoxyCodeLine{20 \textcolor{keyword}{class }\mbox{\hyperlink{classServerPlayer}{ServerPlayer}};}
\DoxyCodeLine{21 }
\DoxyCodeLine{22 \textcolor{keyword}{class }\mbox{\hyperlink{classServerRoom}{ServerRoom}} \{}
\DoxyCodeLine{23     \textcolor{keyword}{public}:}
\DoxyCodeLine{24         \mbox{\hyperlink{classServerRoom_a9f8e3131e1ec24e3a379922f21ef9821}{ServerRoom}}(asio::io\_context\& io\_context, \textcolor{keywordtype}{int} \textcolor{keywordtype}{id}, \textcolor{keywordtype}{int} portSeed, \textcolor{keywordtype}{bool} debug);}
\DoxyCodeLine{25         \mbox{\hyperlink{classServerRoom_a7b089062e99bcf882ebadc22aeb3bdb4}{\string~ServerRoom}}();}
\DoxyCodeLine{26 }
\DoxyCodeLine{33         \textcolor{keywordtype}{void} \mbox{\hyperlink{classServerRoom_aa0750387b31dd10365b8d85f2070621d}{addUser}}(\textcolor{keywordtype}{int} \textcolor{keywordtype}{id}, \textcolor{keyword}{const} std::string \&username);}
\DoxyCodeLine{34 }
\DoxyCodeLine{41         \textcolor{keywordtype}{void} \mbox{\hyperlink{classServerRoom_ae39227a195ea5cd57aa6b210f2300f01}{removeUser}}(\textcolor{keywordtype}{int} \textcolor{keywordtype}{id}, \textcolor{keyword}{const} std::string \&username);}
\DoxyCodeLine{42 }
\DoxyCodeLine{48         \textcolor{keywordtype}{int} \mbox{\hyperlink{classServerRoom_aa0c7a6e697a3cf86baf3c73f3a73b9ce}{getNbUsers}}() \textcolor{keyword}{const};}
\DoxyCodeLine{49 }
\DoxyCodeLine{55         std::string \mbox{\hyperlink{classServerRoom_a221c0f737b23865becf36c06776b5bfc}{getPlayersName}}() \textcolor{keyword}{const};}
\DoxyCodeLine{56 }
\DoxyCodeLine{64         \textcolor{keywordtype}{bool} \mbox{\hyperlink{classServerRoom_ada13a85421bc822dfffc157a79addc31}{isPlayerInRoom}}(\textcolor{keywordtype}{int} \textcolor{keywordtype}{id}) \textcolor{keyword}{const};}
\DoxyCodeLine{65 }
\DoxyCodeLine{71         std::thread \mbox{\hyperlink{classServerRoom_ae3c5fe48645a8393351e25b0ade8bd40}{startThread}}();}
\DoxyCodeLine{72 }
\DoxyCodeLine{79         \textcolor{keywordtype}{void} \mbox{\hyperlink{classServerRoom_a507704c43695d0fbb5d6d553ea34d87d}{broadCastUdp}}(\textcolor{keyword}{const} std::string \&code, \textcolor{keyword}{const} std::string \&msg);}
\DoxyCodeLine{80 }
\DoxyCodeLine{87         std::shared\_ptr<ServerPlayer> \mbox{\hyperlink{classServerRoom_adc4fbea8e443e7db6a7c288e800c0668}{getPlayerFromId}}(\textcolor{keywordtype}{int} \textcolor{keywordtype}{id}) \textcolor{keyword}{const};}
\DoxyCodeLine{88 }
\DoxyCodeLine{95         \textcolor{keywordtype}{bool} \mbox{\hyperlink{classServerRoom_ac53cc31547415b0e090c96f63b83ce5e}{isEveryoneReady}}() \textcolor{keyword}{const};}
\DoxyCodeLine{96 }
\DoxyCodeLine{103         \textcolor{keywordtype}{bool} \mbox{\hyperlink{classServerRoom_a5a05f18bd63302223f016891f26a057a}{isGameStarted}}() \textcolor{keyword}{const};}
\DoxyCodeLine{104 }
\DoxyCodeLine{110         \textcolor{keywordtype}{int} \mbox{\hyperlink{classServerRoom_a73498d7a62358b905b1206efdd4eaa1c}{getId}}() \textcolor{keyword}{const};}
\DoxyCodeLine{111 }
\DoxyCodeLine{119         std::string \mbox{\hyperlink{classServerRoom_a22652e96fe96dc2431c4a2fd844e1dce}{createEntityResponse}}(std::shared\_ptr<IEntity> obj, \textcolor{keyword}{const} std::string \&action) \textcolor{keyword}{const};}
\DoxyCodeLine{120 }
\DoxyCodeLine{127         std::string \mbox{\hyperlink{classServerRoom_a01a477bb0d8d1c1270a2a52299bf3525}{updateEntity}}(std::shared\_ptr<IEntity> obj) \textcolor{keyword}{const};}
\DoxyCodeLine{128 }
\DoxyCodeLine{135         \textcolor{keywordtype}{void} \mbox{\hyperlink{classServerRoom_a6aee38ec27d4cb76e0e6eaa8d8a76059}{collideBidos}}(std::shared\_ptr<ServerPlayer> player, std::shared\_ptr<IEntity> entity);}
\DoxyCodeLine{136 }
\DoxyCodeLine{142         std::string \mbox{\hyperlink{classServerRoom_ad55b8e3bbcc0d8091ca27e4aa60fa79c}{EntityAsShoot}}();}
\DoxyCodeLine{143 }
\DoxyCodeLine{148         \textcolor{keywordtype}{void} \mbox{\hyperlink{classServerRoom_a24e28a631833079a0ee2f5ba78a024bf}{resetTimers}}();}
\DoxyCodeLine{149 }
\DoxyCodeLine{150         \textcolor{comment}{//GAME}}
\DoxyCodeLine{151 }
\DoxyCodeLine{156         \textcolor{keywordtype}{void} \mbox{\hyperlink{classServerRoom_a09ac325d82194a4470d0e03c924bbc2e}{playGame}}();}
\DoxyCodeLine{157 }
\DoxyCodeLine{162         \textcolor{keywordtype}{void} \mbox{\hyperlink{classServerRoom_abbc07051548fb4b40cf6e8abb8669a2c}{updateLoop}}();}
\DoxyCodeLine{163 }
\DoxyCodeLine{169         std::string \mbox{\hyperlink{classServerRoom_a5956924ed0bceea22477c3d9ee9d95fc}{updatePlayers}}() \textcolor{keyword}{const};}
\DoxyCodeLine{170 }
\DoxyCodeLine{175         \textcolor{keywordtype}{void} \mbox{\hyperlink{classServerRoom_ada079a7a898dad497ea5273e22a94c6a}{createPlayers}}();}
\DoxyCodeLine{176 }
\DoxyCodeLine{177         \textcolor{keywordtype}{bool} \mbox{\hyperlink{classServerRoom_a17277f44c76b93e74b44de9c1247bd02}{\_debug}};}
\DoxyCodeLine{178     \textcolor{keyword}{protected}:}
\DoxyCodeLine{179     \textcolor{keyword}{private}:}
\DoxyCodeLine{180 }
\DoxyCodeLine{187         \textcolor{keywordtype}{void} loadRoomEntities(\textcolor{keyword}{const} std::string \&fileConfPath);}
\DoxyCodeLine{188 }
\DoxyCodeLine{194         \textcolor{keywordtype}{void} createsEntities();}
\DoxyCodeLine{195 }
\DoxyCodeLine{201         std::string updateEntities();}
\DoxyCodeLine{202 }
\DoxyCodeLine{210         std::vector<std::shared\_ptr<IEntity>>::iterator findIteratorWithId(std::vector<std::shared\_ptr<IEntity>> list, \textcolor{keyword}{const} std::string \&\textcolor{keywordtype}{id}) \textcolor{keyword}{const};}
\DoxyCodeLine{211 }
\DoxyCodeLine{212         std::string deleteDeadEntities();}
\DoxyCodeLine{213 }
\DoxyCodeLine{214         std::vector<std::shared\_ptr<ServerPlayer>> \_playerList;}
\DoxyCodeLine{215         asio::io\_context \&\_io\_context;}
\DoxyCodeLine{216         asio::ip::udp::endpoint remote\_endpoint\_;}
\DoxyCodeLine{217         \textcolor{keywordtype}{void} startGame();}
\DoxyCodeLine{218         \textcolor{keywordtype}{int} \_id;}
\DoxyCodeLine{219         \textcolor{keywordtype}{bool} \_isGameStarted;}
\DoxyCodeLine{220         \textcolor{keywordtype}{int} \_portSeed;}
\DoxyCodeLine{221         \textcolor{keywordtype}{int} \_timer;}
\DoxyCodeLine{222 }
\DoxyCodeLine{223         \mbox{\hyperlink{classEntityLoad}{EntityLoad}} *\_loader;}
\DoxyCodeLine{224         std::vector<ServerMobSpawnConf> \_entitiesRoomInfo;}
\DoxyCodeLine{225         std::vector<std::shared\_ptr<IEntity>> \_entities;}
\DoxyCodeLine{226 \};}
\DoxyCodeLine{227 }
\DoxyCodeLine{228 \textcolor{preprocessor}{\#endif }\textcolor{comment}{/* !SERVERROOM\_HPP\_ */}\textcolor{preprocessor}{}}

\end{DoxyCode}
